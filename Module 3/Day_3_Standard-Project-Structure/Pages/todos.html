<!DOCTYPE html>
<html>
<head>
    <title>Todos</title>
</head>
<body>

<div id="navbar"></div>

<h1>Todos Page</h1>
<div id="todoList"></div>

<div id="footer"></div>

<script type="module">
import { Navbar } from "../components/navbar.js";
import { Footer } from "../components/footer.js";
import { displayTodos } from "../js/displayTodos.js";

document.getElementById("navbar").innerHTML = Navbar();
document.getElementById("footer").innerHTML = Footer();

// Protect todos page
if (localStorage.getItem("isLoggedIn") !== "true") {
    alert("Please login first!");
    window.location.href = "./login.html";
}

// Fetch and display todos
fetch("https://jsonplaceholder.typicode.com/todos")
    .then(res => res.json())
    .then(data => displayTodos(data))
    .catch(err => console.log("Error:", err));

</script>

</body>
</html>
